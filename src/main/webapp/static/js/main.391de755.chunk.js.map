{"version":3,"sources":["main/webapp/components/Api/Api.js","main/webapp/middleware/socketMiddleware.js","main/webapp/actions/types.js","main/webapp/actions/index.js","main/webapp/components/Auth/Auth.js","main/webapp/components/Editor/Pane.js","main/webapp/images/avatar-1.png","main/webapp/images/avatar-2.png","main/webapp/images/avatar-3.png","main/webapp/images/avatar-4.png","main/webapp/images/avatar-5.png","main/webapp/images/avatar-6.png","main/webapp/images/avatar-7.png","main/webapp/images/avatar-8.png","main/webapp/components/Editor/Profile.js","main/webapp/components/Editor/Navbar.js","main/webapp/components/Editor/StaticProgressBar.js","main/webapp/components/Editor/StopCollab.js","main/webapp/components/Editor/Editor.js","main/webapp/components/Projects/User.js","main/webapp/components/Projects/ConnectedUsers.js","main/webapp/components/Projects/Searchbar.js","main/webapp/components/Projects/Notification.js","main/webapp/images/banner.png","main/webapp/components/Projects/Header.js","main/webapp/components/Projects/AspectRatio.js","main/webapp/components/Projects/ProjectCard.js","main/webapp/components/Projects/ProgressSpinner.js","main/webapp/components/Projects/ConnectionDialog.js","main/webapp/components/Projects/AlertDialog.js","main/webapp/components/Projects/About.js","main/webapp/components/Projects/ProfileDialog.js","main/webapp/components/Projects/Projects.js","main/webapp/App.js","main/webapp/reducers/projectReducer.js","main/webapp/reducers/userReducer.js","main/webapp/reducers/index.js","index.js"],"names":["axios","create","baseURL","AppConfig","PROTOCOL","window","location","protocol","HOST","SocketSingleton","instance","getInstance","WebSocket","PORT","ACTION","SIGN_IN","SIGN_OUT","CAN_EDIT","CHANGE_PASSWORD","CHANGE_VISIBILITY","CHANGE_AVATAR","CHANGE_NAME","CHOOSE_PROJECT","CHOOSE_USER","UPDATE_PROJECTS","UPDATE_USERS","CLEAR_REDUCER","CLEAR_PROJECT","LOAD_INIT_PROJECTS","CREATE_PROJECT","SEND_HTML","SEND_CSS","SEND_JS","SEND_TITLE","REC_HTML","REC_CSS","REC_JS","REC_TITLE","PING_USER","REC_CREATE_PING","REC_CONTINUE_PING","SEND_LEFT","REC_LEFT","SELECT_COLLAB","projectSelector","selector","projects","selection","i","length","current","bothActive","project","collaborator","collaboratorName","projectid","title","html","css","js","collaboratorAvatar","image","push","userSelector","wantContact","users","isContact","user","username","name","isActive","avatar","signIn","type","payload","chooseProject","selectCollab","collab","clearProject","changeVis","vis","loadUsers","dispatch","a","url","get","response","contacts","data","activeUsers","loadProjects","onlineProjects","offlineProjects","loadInitialProjects","Auth","history","useDispatch","useState","setUsername","usernameError","setUsernameError","usernameErrorMsg","setUsernameErrorMsg","password","setPassword","passwordError","setPasswordError","passwordErrorMsg","setPasswordErrorMsg","email","setEmail","emailError","setEmailError","emailErrorMsg","setEmailErrorMsg","setName","nameError","setNameError","nameErrorMsg","setNameErrorMsg","displaySignIn","setDisplaySignIn","displaySignUp","setDisplaySignUp","signInRef","useRef","signUpRef","handleKeyPress","e","callBack","key","handleOnSignUpSubmit","error","RegExp","test","String","toLowerCase","validateEmail","handleOnSignInSubmit","handleSignUp","encodeURIComponent","post","status","errors","usernameExists","emailExists","message","handleSignIn","errorAndInfo","isVisible","className","ref","required","onChange","target","value","autoComplete","onKeyPress","onClick","id","label","classList","remove","add","Pane","props","language","displayName","socket","onBeforeChange","editor","msg","JSON","stringify","send","options","lineWrapping","lint","mode","lineNumbers","theme","Profile","side","active","isUser","handleSave","handleReturn","displayMenu","setDisplayMenu","menuRef","iconRef","handleClick","callback","prevState","useEffect","style","display","handleClickOutside","event","contains","document","addEventListener","removeEventListener","src","Icon_1","Icon_2","Icon_3","Icon_4","Icon_5","Icon_6","Icon_7","Icon_8","addAvatar","alt","fontSize","Navbar","projectName","useSelector","state","userReducer","placeholder","elt","StaticProgressBar","StopCollab","open","Dialog","DialogContent","Editor","projectReducer","activeProject","collaboratorId","projecthtml","setProjectHtml","projectcss","setProjectCss","projectjs","setProjectJs","srcDoc","setSrcDoc","setProjectName","displayExit","setDisplayExit","onpopstate","onmessage","parse","save","timer","setTimeout","clearTimeout","html2canvas","querySelector","then","canvas","toBlob","blob","proj","formData","FormData","append","newHtml","newCss","newJs","newTitle","htmlUrl","cssUrl","jsUrl","titleUrl","imageUrl","headers","timeout","sandbox","width","height","User","nameRef","offsetWidth","scrollWidth","ConnectedUsers","onActiveUserClick","onRecentUserClick","actives","map","recentContacts","Searchbar","query","searchBarRef","focus","setFocus","onFocus","onBlur","Notification","accept","decline","isNewProject","projectTitle","Header","handleLogout","displayProfile","notifications","acceptCallBack","declineCallBack","displayAbout","displayNotifications","setDisplayNotifications","notificationsRef","userIconRef","notificationIconRef","Banner","notification","indexOf","AspectRatio","child","ProjectCard","downloadProject","continueProject","ProgressSpinner","ConnectionDialog","isOpen","closeDialog","fromProject","optionsRef","split","answer","newProject","details","partner","messageDto","collabMesg","COLLAB_ADD_PROJECT","color","console","log","AlertDialog","About","ProfileDialog","currentOnlineStatus","saveProfile","updatedName","setUpdatedName","updatedPassword","setUpdatedPassword","showOnlineStatus","setShowOnlineStatus","selectedAvatar","setSelectedAvatar","changeAvatar","htmlFor","checked","Projects","searchQuery","setSearchQuery","openConnectionDialog","setOpenConnectionDialog","currentConnection","setCurrentConnection","displayedProjects","setDisplayedProjects","concat","allProjects","setAllProjects","alertWarning","setAlertWarning","openAlertDialog","setOpenAlertDialog","allUsers","setAllUsers","openProfileDialog","setOpenProfileDialog","connectionAlert","setConnectionAlert","loadingProjects","setLoadingProjects","setFromProject","setNotifications","setDisplayAbout","onopen","mes","allPaneIDS","forEach","paneID","info_arr","ping_type","collabAvatar","updatedNotifications","filter","onbeforeunload","onclose","interval","setInterval","pageInfo","isProjectsPage","clearInterval","getFolderName","item","word","join","isOnline","resizeTimer","body","allUsersReloaded","allProjectsReloaded","includes","toUpperCase","updated","notif","not_type","info","collabId","folderName","zip","require","folder","file","generateAsync","content","saveAs","closeConnectionDialog","change","visInfo","visibility","changePassword","createHashHistory","createMuiTheme","palette","primary","main","secondary","typography","fontFamily","fontWeightLight","fontWeightRegular","fontWeightMedium","App","PrivateRoute","Component","component","rest","render","isSignedIn","to","ThemeProvider","path","exact","initialState","rootReducer","combineReducers","action","store","createStore","applyMiddleware","thunk","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.391de755.chunk.js","sourcesContent":["import axios from 'axios';\n// baseUrl only needs to be set to production link when calling appengine:deploy\n// export const baseUrl = 'http://localhost:8080';\nexport const baseUrl = 'https://spring21-sps-18.appspot.com';\nexport default axios.create({\n\tbaseURL: baseUrl\n})\n","const AppConfig = {\n  PROTOCOL: window.location.protocol === 'https:' ? 'wss://' : 'ws://',\n  // HOST: 'localhost',\n  HOST: \"spring21-sps-18.appspot.com\",\n  // PORT: \":9000/\"\n}\n\nconst SocketSingleton = (() => {\n  let instance;\n\n  const createInstance = () => {\n    // return new WebSocket(AppConfig.PROTOCOL + AppConfig.HOST + AppConfig.PORT);\n    return new WebSocket(AppConfig.PROTOCOL + AppConfig.HOST + AppConfig.PORT);\n  }\n  \n  return {\n    getInstance: () => {\n      if (!instance) {\n\tinstance = createInstance();\n      }\n      return instance;\n    }\n  };\n})();\n\nexport default SocketSingleton;\n","export const ACTION = {\n  SIGN_IN: \"SIGN_IN\",\n  SIGN_OUT: \"SIGN_OUT\",\n  CAN_EDIT: \"CAN_EDIT\",\n  CHANGE_PASSWORD: \"CHANGE_PASSWORD\",\n  CHANGE_VISIBILITY: \"CHANGE_VISIBILITY\",\n  CHANGE_AVATAR: \"CHANGE_AVATAR\",\n  CHANGE_NAME: \"CHANGE_NAME\",\n  CHOOSE_PROJECT: \"CHANGE_PROJECT\",\n  CHOOSE_USER: \"CHOOSE_USER\",\n  UPDATE_PROJECTS: \"UPDATE_PROJECTS\",\n  UPDATE_USERS: \"UPDATE_USERS\",\n  CLEAR_REDUCER: \"CLEAR_REDUCER\",\n  CLEAR_PROJECT: \"CLEAR_PROJECT\",\n  LOAD_INIT_PROJECTS: \"LOAD_INIT_PROJECTS\",\n  CREATE_PROJECT: \"CREATE_PROJECT\",\n  SEND_HTML: \"SEND_HTML\",\n  SEND_CSS: \"SEND_CSS\",\n  SEND_JS: \"SEND_JS\",\n  SEND_TITLE: \"SEND_TITLE\",\n  REC_HTML: \"REC_HTML\",\n  REC_CSS: \"REC_CSS\",\n  REC_JS: \"REC_JS\",\n  REC_TITLE: \"REC_TITLE\",\n  PING_USER: \"PING_USER\",\n  REC_CREATE_PING: \"REC_CREATE_PING\",\n  REC_CONTINUE_PING: \"REC_CONTINUE_PING\",\n  SEND_LEFT: \"SEND_LEFT\",\n  REC_LEFT: \"REC_LEFT\",\n  SELECT_COLLAB: \"SELECT_COLLAB\",\n}\n","import axios from '../components/Api/Api';\nimport SocketSingleton from '../middleware/socketMiddleware';\nimport { ACTION } from './types';\n\n// Return either online or offline projects\nconst projectSelector = (selector, projects) => {\n    const selection = [];\n    for (var i = 0; i < projects.length; i++) {\n        let current = projects[i]\n            // selector is true/false for online/offline projects\n            // if selector is true then only add online projects otherwise add offline\n        if (current.bothActive === selector) {\n            let project = {\n                collaborator: current.collaborator,\n                collaboratorName: current.collaboratorName,\n                projectid: current.projectid,\n                title: current.title,\n                html: current.html,\n                css: current.css,\n                js: current.js,\n                collaboratorAvatar: current.collaboratorAvatar,\n                image: current.image,\n            };\n            selection.push(project);\n        }\n    }\n    return selection;\n};\n\n// Return either active or inactive users\nconst userSelector = (wantContact, users) => {\n    const selection = [];\n    for (var i = 0; i < users.length; i++) {\n\n        let current = users[i]\n            // selector is true/false for online/offline projects\n            // if selector is true then only add online projects otherwise add offline\n        if (current.isContact === wantContact) {\n            let user = {\n                username: current.username,\n                name: current.name,\n                isActive: current.isActive,\n                avatar: current.avatar,\n            };\n            selection.push(user);\n        }\n    }\n    return selection;\n};\n\n// On sign in\nexport const signIn = (user) => {\n    return {\n        type: ACTION.SIGN_IN,\n        payload: user\n    }\n};\n\n// On sign out\nexport const signOut = () => ({\n    type: ACTION.SIGN_OUT,\n    payload: null\n});\n\n// Clears state on sign out\nexport const clearReducer = () => ({\n    type: ACTION.CLEAR_REDUCER,\n    payload: null\n});\n\n\n// On project selection\nexport const chooseProject = (project) => {\n    return {\n        type: ACTION.CHOOSE_PROJECT,\n        payload: project\n    }\n};\n\nexport const selectCollab = (collab) => {\n    return {\n        type: ACTION.SELECT_COLLAB,\n        payload: collab\n    }\n};\n\n\n// Function to handle saving project to database\nexport const handleSave = (proj) => async(dispatch) => {\n    const newHtml = encodeURIComponent(proj.html);\n    const newCss = encodeURIComponent(proj.css);\n    const newJs = encodeURIComponent(proj.js);\n    const newTitle = encodeURIComponent(proj.title);\n    const projectid = proj.projectid;\n    const image = proj.image;\n    let htmlUrl = `/save-html?projectid=${projectid}&html=${newHtml}`;\n    let cssUrl = `/save-css?projectid=${projectid}&css=${newCss}`;\n    let jsUrl = `/save-js?projectid=${projectid}&js=${newJs}`;\n    let titleUrl = `/update-title?projectid=${projectid}&title=${newTitle}`;\n    let imageUrl = `/save-image?projectid=${projectid}`;\n    await axios.get(htmlUrl);\n    await axios.get(cssUrl);\n    await axios.get(jsUrl);\n    await axios.get(titleUrl);\n    await axios.post(imageUrl, image, {\n      headers: {\n        'accept': 'application/json',\n        'Accept-Language': 'en-US,en;q=0.8',\n        'Content-Type': `multipart/form-data`,\n      }\n    })\n  }\n  \n\n// On project deselection\nexport const clearProject = () => {\n    return {\n        type: ACTION.CLEAR_PROJECT,\n        payload: null\n    }\n};\n\n\n// On user selection\nexport const chooseUser = (username) => {\n    return {\n        type: ACTION.CHOOSE_USER,\n        payload: username\n    }\n};\n\n// Update online status\nexport const updateActive = (pageInfo) => async(dispatch) => {\n    const username = pageInfo.username;\n    const isVisible = pageInfo.isVisible;\n    const isProjectsPage = pageInfo.isProjectsPage;\n    if (isVisible) {\n        let url = `/update-active?username=${username}`;\n        await axios.get(url);\n    }\n\n    if (isProjectsPage) {\n        dispatch(loadProjects(username));\n        dispatch(loadUsers(username));\n    }\n};\n\n// On name change\nexport const changeName = (change) => async(dispatch) => {\n    const username = change.username;\n    const name = change.name;\n    let url = `/change-name?username=${username}&name=${name}`;\n    await axios.get(url);\n    dispatch({\n        type: ACTION.CHANGE_NAME,\n        payload: name\n    })\n};\n\n// On avatar change\nexport const changeAvatar = (change) => async(dispatch) => {\n    const username = change.username;\n    const avatar = change.avatar;\n    let url = `/change-avatar?username=${username}&avatar=${avatar}`;\n    await axios.get(url);\n    dispatch({\n        type: ACTION.CHANGE_AVATAR,\n        payload: avatar\n    })\n};\n\n// On password change\nexport const changePassword = (change) => async(dispatch) => {\n    const username = change.username;\n    const password = change.password;\n    let url = `/change-pass?username=${username}&password=${password}`;\n    await axios.get(url);\n    dispatch({\n        type: ACTION.CHANGE_PASSWORD,\n        payload: password\n    })\n};\n\nexport const changeVis = (vis) => {\n    return {\n        type: ACTION.CHANGE_VISIBILITY,\n        payload: vis\n    }\n};\n\n// On visibility change\nexport const changeVisibility = (visInfo) => async(dispatch) => {\n    const username = visInfo.username;\n    const vis = visInfo.visibility;\n    let url = `/change-vis?username=${username}&visibility=${vis}`;\n    await axios.get(url);\n    dispatch(changeVis(vis));\n};\n\n\nexport const updateTitle = (title) => {\n    return {\n        type: ACTION.UPDATE_TITLE,\n        payload: title\n    }\n};\n\n// Create project with user\nexport const createProject = (details) => async(dispatch) => {\n    const username = details.username;\n    const partner = details.collaborator;\n    const title = details.title;\n    let url = `/create?username=${username}&partner=${partner}&title=${title}`;\n    const response = await axios.post(url);\n    let projectid = response.data;\n    const socket = SocketSingleton.getInstance();\n    let messageDto = JSON.stringify({\n        id: projectid,\n        type: ACTION.LOAD_INIT_PROJECTS,\n        data: \"\"\n    })\n    socket.send(messageDto);\n    let collabMesg = JSON.stringify({\n        id: partner,\n        type: ACTION.COLLAB_ADD_PROJECT,\n        data: projectid\n    })\n    socket.send(collabMesg);\n    dispatch(loadProjects(username));\n};\n\n// Load users that are active and inactive \nexport const loadUsers = (username) => async(dispatch) => {\n    if (username !== '') {\n        // Load users from backend\n        let url = `/get-users?username=${username}`;\n        const response = await axios.get(url);\n        dispatch({\n            type: ACTION.UPDATE_USERS,\n            payload: {\n                contacts: userSelector(true, response.data),\n                activeUsers: userSelector(false, response.data)\n            }\n        });\n    }\n};\n\n// Load projects that are online or offline\nexport const loadProjects = (username) => async(dispatch) => {\n    if (username !== '') {\n        // Load projects from backend\n        let url = `/load?username=${username}`;\n        const response = await axios.get(url);\n        dispatch({\n            type: ACTION.UPDATE_PROJECTS,\n            payload: {\n                onlineProjects: projectSelector(true, response.data),\n                offlineProjects: projectSelector(false, response.data)\n            }\n        });\n    }\n};\n\n// Load projects that are online or offline\nexport const loadInitialProjects = (username) => async(dispatch) => {\n    if (username !== '') {\n        // Load projects from backend\n        let url = `/load?username=${username}`;\n        const response = await axios.get(url);\n        dispatch({\n            type: ACTION.LOAD_INIT_PROJECTS,\n            payload: {\n                onlineProjects: projectSelector(true, response.data),\n                offlineProjects: projectSelector(false, response.data)\n            }\n        });\n    }\n};","import React, { useState, useRef } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport axios from '../Api/Api';\nimport { loadInitialProjects, loadUsers, signIn } from '../../actions';\nimport './Auth.css';\n\n\nconst Auth = ({ history }) => {\n  // Dispatch for react-redux store\n  const dispatch = useDispatch();\n\n  // Store user's information in React state\n  const [username, setUsername] = useState(\"\");\n  const [usernameError, setUsernameError] = useState(false);\n  const [usernameErrorMsg, setUsernameErrorMsg] = useState('');\n  const [password, setPassword] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(false);\n  const [passwordErrorMsg, setPasswordErrorMsg] = useState('');\n  const [email, setEmail] = useState(\"\");\n  const [emailError, setEmailError] = useState(false);\n  const [emailErrorMsg, setEmailErrorMsg] = useState('');\n  const [name, setName] = useState(\"\");\n  const [nameError, setNameError] = useState(false);\n  const [nameErrorMsg, setNameErrorMsg] = useState('');\n\n  // to switch between sign in and sign up\n  const [displaySignIn, setDisplaySignIn] = useState(true);\n  const [displaySignUp, setDisplaySignUp] = useState(false);\n  const signInRef = useRef();\n  const signUpRef = useRef();\n\n  const openSignIn = () => {\n    if (!displaySignIn) {\n      setDisplaySignIn(true);\n      setDisplaySignUp(false);\n      setEmailError(false);\n      setNameError(false);\n      setPasswordError(false);\n      setUsernameError(false);\n      signInRef.current.classList.add(\"visible_sign_in\");\n      signInRef.current.classList.remove(\"hidden_sign_in\")\n      signUpRef.current.classList.remove(\"visible_sign_up\");\n      signUpRef.current.classList.add(\"hidden_sign_up\");\n    }\n  }\n\n  const openSignUp = () => {\n    if (!displaySignUp) {\n      setDisplaySignIn(false);\n      setDisplaySignUp(true);\n      setEmailError(false);\n      setNameError(false);\n      setPasswordError(false);\n      setUsernameError(false);\n      signInRef.current.classList.remove(\"visible_sign_in\");\n      signInRef.current.classList.add(\"hidden_sign_in\")\n      signUpRef.current.classList.add(\"visible_sign_up\");\n      signUpRef.current.classList.remove(\"hidden_sign_up\");\n    }\n  }\n\n  // Handles and checks keypress and calls the callback method\n  const handleKeyPress = (e, callBack) => {\n    if (e.key === 'Enter') {\n      callBack();\n    };\n  };\n\n  // Checks that email is in a valid email address form\n  // Code Reference: \n  // https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript\n  const validateEmail = (email) => {\n    // Breaks regex expression into strings to remain under 80 characters\n    var re = new RegExp(['^(([^<>()[\\\\]\\\\\\\\.,;:\\\\s@\"]+(\\\\.[^<>()[\\\\]\\\\\\\\.,;:\\\\s',\n      '@\"]+)*)|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]',\n      '{1,3}\\\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$']);\n    return re.test(String(email).toLowerCase());\n  }\n\n  // Validates user entered sign up information correctly\n  const handleOnSignUpSubmit = (username, password, email, name, callBack) => {\n    let error = false;\n    if (username === '') {\n      setUsernameError(true);\n      setUsernameErrorMsg('Username cannot be empty');\n      error = true;\n    } else {\n      setUsernameError(false);\n      setUsernameErrorMsg('');\n    }\n    if (password.length < 8 || password.length > 60) {\n      setPasswordError(true);\n      setPasswordErrorMsg('Password must be greater than 8 characters'\n        + ' and less than 60 characters');\n      error = true;\n    } else {\n      setPasswordError(false);\n      setPasswordErrorMsg('');\n    }\n    if (email === '' || !validateEmail(email)) {\n      setEmailError(true);\n      setEmailErrorMsg('Please enter a valid email address format');\n      error = true;\n    } else {\n      setEmailError(false);\n      setEmailErrorMsg('');\n    }\n    if (name === '') {\n      setNameError(true);\n      setNameErrorMsg('Name cannot be empty');\n      error = true;\n    } else {\n      setNameError(false);\n      setNameErrorMsg('');\n    }\n\n    if (!error) {\n      callBack();\n    };\n  };\n\n  // Checks that user entered login information correctly\n  const handleOnSignInSubmit = (username, password, callBack) => {\n    let error = false;\n    if (username === '') {\n      setUsernameError(true);\n      setUsernameErrorMsg('Username cannot be empty');\n      error = true;\n    } else {\n      setUsernameError(false);\n      setUsernameErrorMsg('');\n    }\n    if (password === '') {\n      setPasswordError(true);\n      setPasswordErrorMsg('Password cannot be empty');\n      error = true;\n    } else {\n      setPasswordError(false);\n      setPasswordErrorMsg('');\n    }\n\n    if (!error) {\n      callBack();\n    };\n  };\n\n  // Handles creation of account\n  const handleSignUp = async (username, password, email, name) => {\n    try {\n      // Encode username, password & email they may have special symbols\n      username = encodeURIComponent(username);\n      password = encodeURIComponent(password);\n      email = encodeURIComponent(email);\n      name = encodeURIComponent(name);\n\n      // Check if username is taken and email is valid then add to Datastore\n      const response = await axios.post(\n        `/sign-up?username=${username}\n              &password=${password}&email=${email}&name=${name}`);\n\n      if (response.status !== 200) {\n        setUsernameError(true);\n        setUsernameErrorMsg('Unable to sign up at this time please try again');\n        setPasswordError(true);\n        setPasswordErrorMsg('Unable to sign up at this time please try again');\n        setEmailError(true);\n        setEmailErrorMsg('Unable to sign up at this time please try again');\n        setNameError(true);\n        setNameErrorMsg('Unable to sign up at this time please try again');\n        return;\n      }\n\n      // Get information about whether username or email is taken from response\n      const errors = response.data;\n      const usernameExists = errors[0];\n      const emailExists = errors[1];\n\n      // Let user known what type of error occurred\n      if (usernameExists) {\n        setUsernameError(true);\n        setUsernameErrorMsg('Username is already taken');\n      }\n      if (emailExists) {\n        setEmailError(true);\n        setEmailErrorMsg('Email address has already been used');\n      }\n      if (usernameExists || emailExists) return;\n      dispatch(signIn({\n        username: username, email: email, name: name, avatar: \"0\"\n      }));\n      dispatch(loadUsers(username));\n      dispatch(loadInitialProjects(username));\n      history.push('/projects');\n    } catch (err) {\n      // If error occurs notify user\n      if (err) {\n        setUsernameError(true);\n        setUsernameErrorMsg(err.message);\n        setPasswordError(true);\n        setPasswordErrorMsg(err.message);\n      };\n    };\n  };\n\n  // Handles account login\n  const handleSignIn = async (username, password) => {\n    // Encode username and password - it may have # $ & + ,  / : ; = ? @ [ ]\n    username = encodeURIComponent(username);\n    password = encodeURIComponent(password);\n\n    try {\n      const response = await axios.post(\n        `/sign-in?username=${username}\n              &password=${password}`);\n\n      if (response.status === 200) { \n        // Direct user to next page\n        const errorAndInfo = response.data;\n        const userExists = errorAndInfo[0] === 'true' ? true : false;\n        if (!userExists) {\n          setUsernameError(true);\n          setUsernameErrorMsg('Username or password entered incorrectly');\n          setPasswordError(true);\n          setPasswordErrorMsg('Username or password entered incorrectly');\n        } else {\n          const isVisible = errorAndInfo[3] === 'true' ? true : false;\n          dispatch(signIn({\n            username: username, email: errorAndInfo[1],\n            name: errorAndInfo[2], isVisible: isVisible, avatar: errorAndInfo[4]\n          }));\n          dispatch(loadUsers(username));\n          dispatch(loadInitialProjects(username));\n          history.push('/projects');\n        }\n      } else {\n        setUsernameError(true);\n        setUsernameErrorMsg('Unable to sign in at this time please try again');\n        setPasswordError(true);\n        setPasswordErrorMsg('Unable to sign in at this time please try again');\n      }\n    } catch (err) {\n      if (err) {\n        setUsernameError(true);\n        setUsernameErrorMsg(err.message);\n        setPasswordError(true);\n        setPasswordErrorMsg(err.message);\n      };\n    };\n  };\n\n  //Render signup modal with input fields for user\n  const renderSignUp = () => {\n    return (\n      <div className=\"user_details\">\n        <div className=\"input\">\n          <input\n            type=\"text\"\n            id=\"name_input\"\n            required=\"required\"\n            label=\"name_input\"\n            className=\"Auth_input\"\n            onChange={e => setName(e.target.value)}\n            value={name}\n            autoComplete=\"off\"\n            onKeyPress={e =>\n              handleKeyPress(e, () =>\n                handleOnSignUpSubmit(username, password, email, name,\n                  () => handleSignUp(username, password, email, name))\n              )\n            }\n          />\n          <span className=\"placeholder\">\n            Name\n          </span>        \n        </div>\n        {nameError && (\n            <span className=\"error\">{nameErrorMsg}</span>)}\n        <div className=\"input\">\n          <input\n            type=\"text\"\n            label=\"username_input\"\n            required=\"required\"\n            className=\"Auth_input\"\n            value={username}\n            onChange={e => setUsername(e.target.value)}\n            autoComplete=\"off\"\n            onKeyPress={e =>\n              handleKeyPress(e, () =>\n                handleOnSignInSubmit(username, password,\n                  () => handleSignIn(username, password))\n              )\n            }\n          />\n          <span className=\"placeholder\">\n            Username\n          </span>\n        </div>\n        {usernameError && (\n            <span className=\"error\">{usernameErrorMsg}</span>)}\n        <div className=\"input\">\n          <input\n            type=\"password\"\n            required=\"required\"\n            label=\"password_input\"\n            className=\"Auth_input\"\n            value={password}\n            onChange={e => setPassword(e.target.value)}\n            autoComplete=\"off\"\n            onKeyPress={e =>\n              handleKeyPress(e, () =>\n                handleOnSignInSubmit(username, password,\n                  () => handleSignIn(username, password))\n              )\n            }\n          />\n          <span className=\"placeholder\">\n            Password\n          </span>\n        </div>\n        {passwordError && (\n            <span className=\"error\">{passwordErrorMsg}</span>)}\n\n        <div className=\"input\">\n          <input\n            type=\"text\"\n            required=\"required\"\n            label=\"email_input\"\n            className=\"Auth_input\"\n            value={email}\n            onChange={e => setEmail(e.target.value)}\n            autoComplete=\"off\"\n            onKeyPress={e =>\n              handleKeyPress(e, () =>\n                handleOnSignUpSubmit(username, password, email, name,\n                  () => handleSignUp(username, password, email, name))\n              )\n            }\n          />\n          <span className=\"placeholder\">\n            Email\n          </span>\n          \n        </div>\n        {emailError && (\n            <span className=\"error\">{emailErrorMsg}</span>)}\n        <div className=\"Sign_up_button_container\">\n          <button\n            className=\"Sign_up_button\"\n            onClick={() => handleOnSignUpSubmit(username, password, email, name,\n              () => handleSignUp(username, password, email, name))}\n          >\n            Sign Up\n            </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Render sign in Modal with input fields\n  const renderSignIn = () => {\n    return (\n\n      <div className=\"user_details\">\n        <div className=\"input\">\n        \n          <input\n            type=\"text\"\n            name=\"username_input\"\n            className=\"Auth_input\"\n            required=\"required\"\n            onChange={e => setUsername(e.target.value)}\n            value={username}\n            autoComplete=\"off\"\n            onKeyPress={e =>\n              handleKeyPress(e, () =>\n                handleOnSignInSubmit(username, password,\n                  () => handleSignIn(username, password))\n              )\n            } />\n          <span className=\"placeholder\">\n          Username\n          </span>\n        </div>\n          {usernameError && (\n            <span className=\"error\">{usernameErrorMsg}</span>\n          )}\n\n        <div className=\"input\">\n          <input\n            type=\"password\"\n            required=\"required\"\n            name=\"password_input\"\n            className=\"Auth_input\"\n            onChange={e => setPassword(e.target.value)}\n            value={password}\n            autoComplete=\"off\"\n            onKeyPress={e =>\n              handleKeyPress(e, () =>\n                handleOnSignInSubmit(username, password,\n                  () => handleSignIn(username, password))\n              )\n            } />\n          <span className=\"placeholder\">\n            Password\n          </span>\n        </div>\n        {passwordError && (\n            <span className=\"error\">{passwordErrorMsg}</span>\n          )}\n\n        <div className=\"Sign_in_button_container\">\n          <button\n            className=\"Sign_up_button\"\n            onClick={() => handleOnSignInSubmit(username, password,\n              () => handleSignIn(username, password))}>\n            Log In\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n\n  return (\n    <div className=\"Auth_container\">\n      <div className=\"Auth_header\">\n\n        <div className=\"nine\">\n          <h1>COLLABCODE<span> code, create, and collaborate</span></h1>\n        </div>\n      </div>\n\n\n      <div className=\"Auth_main\">\n        <div className=\"Auth_content card\">\n          <div className=\"Auth_buttons_container\">\n            {displaySignIn ? (\n            <span className=\"Auth_button left_button\">\n              SIGN IN\n            </span>) :\n\n            <span className=\"Auth_button left_button \">\n              SIGN UP\n            </span> }\n          </div>\n\n          <div className=\"Signin_signup\">\n            <div className=\"dummy_sign_in visible_sign_in\" ref={signInRef} >\n              {renderSignIn()}\n            </div>\n\n            <div className=\"dummy_sign_up hidden_sign_up\" ref={signUpRef}>\n              {renderSignUp()}\n            </div>\n          </div>\n          \n          {displaySignIn ? \n            (<h5><span>New to CollabCode?</span></h5>) :\n            (<h5><span>Already have an account?</span></h5>)}\n          \n          {!displaySignIn ? (\n            <button className=\"Auth_button right_button\" onClick={openSignIn}>\n              SIGN IN\n            </button>) :\n\n            <button className=\"Auth_button right_button \" onClick={openSignUp}>\n              SIGN UP\n            </button> }\n\n        </div>\n\n      </div>\n\n    </div>\n\n\n  );\n}\n\nexport default Auth;\n","import React from 'react';\n//import MinimizeIcon from '@material-ui/icons/Minimize';\nimport { Controlled as ControlledEditor } from 'react-codemirror2';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/mode/xml/xml';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/mode/css/css';\nimport './Pane.css';\n\nconst Pane = (props) => {\n  const { language, displayName, value, socket, projectid } = props;\n  \n  const handleChange = (editor, data, value) => {\n    let type = \"SEND_\" + displayName;\n    let msg = JSON.stringify({ id: projectid, type: type, data: value })\n    socket.send(msg);\n  } \n\n  return (\n    <div className=\"Pane_container\">\n      <div className=\"Pane_title\">\n        {displayName}\n      </div>\n\n      <ControlledEditor\n        onBeforeChange={handleChange}\n        value={value}\n        className=\"Pane_code_mirror_wrapper\"\n        options={{\n          lineWrapping: true,\n          lint: true,\n          mode: language,\n          lineNumbers: true,\n          theme: 'material'\n        }}\n      />\n    </div>\n  );\n}\n\nexport default Pane\n","export default __webpack_public_path__ + \"static/media/avatar-1.206df2ea.png\";","export default __webpack_public_path__ + \"static/media/avatar-2.ce1e904e.png\";","export default __webpack_public_path__ + \"static/media/avatar-3.ba79463c.png\";","export default __webpack_public_path__ + \"static/media/avatar-4.607dde39.png\";","export default __webpack_public_path__ + \"static/media/avatar-5.1cc5e5b8.png\";","export default __webpack_public_path__ + \"static/media/avatar-6.af51b5dd.png\";","export default __webpack_public_path__ + \"static/media/avatar-7.61998959.png\";","export default __webpack_public_path__ + \"static/media/avatar-8.d272d87a.png\";","import React, { useEffect, useRef, useState } from 'react';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport SaveIcon from '@material-ui/icons/Save';\n\nimport './Profile.css';\nimport Icon_1 from \"../../images/avatar-1.png\";\nimport Icon_2 from \"../../images/avatar-2.png\";\nimport Icon_3 from \"../../images/avatar-3.png\";\nimport Icon_4 from \"../../images/avatar-4.png\";\nimport Icon_5 from \"../../images/avatar-5.png\";\nimport Icon_6 from \"../../images/avatar-6.png\";\nimport Icon_7 from \"../../images/avatar-7.png\";\nimport Icon_8 from \"../../images/avatar-8.png\";\n\n// Change email to some other parameter later, don't want to expose\n// people's emails unnecessarily\nconst Profile = (props) => {\n  const {name, avatar, email, side, active, isUser, handleSave, \n\t  handleReturn} = props;\n  const [displayMenu, setDisplayMenu] = useState(false);\n  const menuRef = useRef();\n  const iconRef = useRef();\n\n  const handleClick = callback => {\n    setDisplayMenu(prevState => !prevState);\n    callback();\n  }\n\n  const addAvatar = () => {\n    switch (avatar) {\n      case \"1\":\n        return Icon_1;\n\n      case \"2\":\n        return Icon_2;\n\n      case \"3\":\n        return Icon_3;\n\n      case \"4\":\n        return Icon_4;\n\n      case \"5\":\n        return Icon_5;\n\n      case \"6\":\n        return Icon_6;\n\n      case \"7\":\n        return Icon_7;\n\n      case \"8\":\n        return Icon_8;\n      \n      default:\n        return;\n    }   \n  } \n \n  useEffect(() => {\n    displayMenu ? menuRef.current.style.display = \"flex\" : menuRef.current.style.display = \"none\";\n     const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target) && \n          iconRef.current && !iconRef.current.contains(event.target) && displayMenu) {      \n        setDisplayMenu(prevState => !prevState);     \n      }\n    };\n  \n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n\n  }, [displayMenu]);\n\n\n  return (\n    <div className={`Profile_container ${side === \"R\" ? \"Profile_flipped\" : \"\"}`}>\n      <div className={`Profile_image ${!isUser ? \"other_user\" : \"\"}`}\n        ref={iconRef} \n          onClick={() => setDisplayMenu(prevState => !prevState)}>\n          {avatar !== \"0\" ?\n          (<img src={addAvatar()} className=\"Profile_icon\" alt=\"avatar\"/>) : \n          (<AccountCircleIcon style = {{fontSize: 40}} />)}\n          <div className={`Profile_activity ${active ? \"active_user\" : \"inactive_user\"} ${side === \"R\" ? \"right\" : \"left\"}`}></div>      </div>\n      <div className={`Profile_details  ${side === \"R\" ? \"details_right\" : \"details_left\"}`}>\n        <span className=\"Profile_name\">\n          {name}\n        </span>\n        <span className=\"Profile_email\">\n          {email}\n        </span>\n      </div>\n      {isUser ?\n        <div className=\"Editor_profile_menu\" ref={menuRef}>       \n          <span className=\"Editor_options\">\n            Options\n          </span>         \n          <ul>\n            <li onClick={() => handleClick(handleSave)}>\n              <SaveIcon className=\"Editor_profile_menu_icon\"/>\n              <span>\n                Save project\n              </span>\n            </li>\n            <li onClick={() => handleClick(handleReturn)}>\n              <ExitToAppIcon className=\"Editor_profile_menu_icon\"/>\n              <span>\n                Return to projects page\n              </span>\n            </li>\n          </ul>\n        </div>\n       : <div ref={menuRef}></div> \n      }\n    </div>\n  );\n}\n\nexport default Profile\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './Navbar.css';\nimport Profile from './Profile.js';\nimport { ACTION } from '../../actions/types.js';\nimport { clearProject } from '../../actions';\n\nconst Navbar = (props) => {\n  const { title, projectName, handleSave, \n\t  history, socket, projectid, collaborator, collaboratorName, \n\t  collaboratorAvatar } = props;\n  const user = useSelector((state) => state.userReducer);\n  const dispatch = useDispatch();\n\n  const handleChange = elt => {\n    let msg = JSON.stringify({ type: ACTION.SEND_TITLE, id: projectid, \n\t    data: elt.target.value })\n    socket.send(msg);\n  }\n\n  // called when user clicks on Profile\n  const handleReturn = () => {\n    dispatch(clearProject());\n    let msg = JSON.stringify({ id: collaborator, type: ACTION.SEND_LEFT, \n\t    data: collaboratorName });\n    socket.send(msg);\n    history.push('/projects');\n  }\n\n\n  return (\n      <div className=\"Navbar_container\">\n        <Profile\n          name={collaboratorName}\n          avatar={collaboratorAvatar}\n          email=\"\"\n          side=\"L\"\n          active={true}\n          isUser={false}\n\t        handleReturn={handleReturn}\n          handleSave={handleSave}/>\n\n        <div className=\"Navbar_title_container\">\n          <input \n            type=\"text\"\n            className=\"Navbar_title\"\n            placeholder={title}\n            name=\"title_input\" \n            autoComplete=\"off\" \n            id=\"title_input\"\n            value={projectName}\n            onChange={handleChange}/>\n        </div>\n        \n        <Profile\n          name={user.name}\n          avatar={user.avatar}\n          side=\"R\"\n          active={true}\n          isUser={true}\n\t        handleReturn={handleReturn}\n          handleSave={handleSave}/>\n      </div>\n  );\n}\n\nexport default Navbar\n","import React from 'react';\nimport './StaticProgressBar.css';\n\nfunction StaticProgressBar() {\n  return (\n    <div className=\"StaticProgress_container\">\n      <div className=\"static_line\"></div>\n    </div>\n  );\n}\n\nexport default StaticProgressBar\n","import React from 'react';\nimport { Dialog, DialogContent } from '@material-ui/core';\nimport './StopCollab.css';\nimport './StaticProgressBar.js';\nimport InfoIcon from '@material-ui/icons/Info';\nimport StaticProgressBar from './StaticProgressBar.js';\n\nfunction StopCollab(props) {\n  const { collaboratorName, open } = props; \n  return (\n    <Dialog open={open}>\n      <DialogContent>\n        <div className=\"StopCollab_container\"> \n          <div className=\"dialog_icon\">\n            <InfoIcon style={{fontSize: 40}}/>\n          </div>\n          <span className=\"StopCollab_header\">\n            {collaboratorName} has stopped  editing. Your work is being saved now...\n          </span>\n          <StaticProgressBar />\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default StopCollab\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Pane from './Pane.js';\nimport Navbar from './Navbar.js';\nimport './Editor.css';\nimport './StopCollab.js';\nimport html2canvas from 'html2canvas';\nimport FormData from 'form-data'\nimport { handleSave, clearProject } from '../../actions';\nimport SocketSingleton from '../../middleware/socketMiddleware';\nimport { ACTION } from '../../actions/types.js';\nimport StopCollab from './StopCollab.js';\n\n\nconst Editor = ({ history }) => {\n  const dispatch = useDispatch();\n  const { html, css, js, title, activeProject, collaboratorId, \n\t  collaboratorName, collaboratorAvatar } = \n\t\tuseSelector((state) => state.projectReducer);\n  \n  // I don't think we can use the \"projecthtml\" useState variables\n  // For the sockets we need a way to update text changes within the text editors themselves\n  // when the user types, but also store those changes to the \"html\", \"css\", \"js\" variables\n  // in the React Store for database saving. We also have to figure out a way to send updates\n  // to each editor through sockets and have them update on the collaborator's end\n  // We can either add a JQuery function to each editor component that has the socket actions\n  // embded into the function and directly sending changes with stuff like OnKeyPress for each\n  // editor component. Or we can disregard storing into in the react store entirely and just\n  // send the current projecthtml, projectcss, projectjs to the backend whenever the user clicks\n  // save \n  const [projecthtml, setProjectHtml] = useState(html);\n  const [projectcss, setProjectCss] = useState(css);\n  const [projectjs, setProjectJs] = useState(js);\n  const [srcDoc, setSrcDoc] = useState(\"\");\n  const [projectName, setProjectName] = useState(title);\n  const socket = SocketSingleton.getInstance();\n  const [displayExit, setDisplayExit] = useState(false);\n\n\n  window.onpopstate = e => {\n    dispatch(clearProject());\n    let msg = JSON.stringify({ id: collaboratorId, type: ACTION.SEND_LEFT, \n\t    data: collaboratorName });\n    socket.send(msg);\n    history.push('/projects');\n  }\n  \n  socket.onmessage = (response) => {\n    let message = JSON.parse(response.data);\n    switch (message.type) {\n      case ACTION.SEND_HTML:\n\tsetProjectHtml(message.data)\n\tbreak;\n      case ACTION.SEND_CSS:\n\tsetProjectCss(message.data)\n\tbreak;\n      case ACTION.SEND_JS:\n\tsetProjectJs(message.data)\n\tbreak;\n      case ACTION.SEND_TITLE:\n\tsetProjectName(message.data);\n\tbreak;\n      case ACTION.SEND_LEFT:\n        setDisplayExit(true);\n        save();\n        let timer = setTimeout(() => {\n          history.push('/projects');\n        }, 4000);\n        return () => clearTimeout(timer);\n      default:\n    }\n  }\n\n  const save = () => {\n    html2canvas(document.querySelector(\"#render_pane\")).then(canvas => {\n      canvas.toBlob((blob) => {\n        let formData = new FormData();\n        formData.append(\"image\", blob);\n\n        dispatch(handleSave({\n          html: projecthtml,\n          css: projectcss,\n          js: projectjs,\n          projectid: activeProject,\n          title: projectName,\n          image: formData,\n        }));\n      });\n    })\n  }\n  \n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setSrcDoc(`\n      <html>\n        <body>${projecthtml}</body>\n        <style>${projectcss}</style>\n        <script>${projectjs}</script>\n      </html>\n      `)\n    }, 250);\n\n    return () => clearTimeout(timeout);\n  }, [projecthtml, projectcss, projectjs]);\n\n  return (\n    <div className=\"Editor_container\">\n      <Navbar\n        history={history}\n        projectName={projectName}\n        socket={socket}\n        title={title}\n        collaborator={collaboratorId}\n        collaboratorName={collaboratorName}\n        collaboratorAvatar={collaboratorAvatar}\n        projectid={activeProject}\n        handleSave={save}/>\n\n      <div className=\"Editor_pane Editor_top_pane\" id=\"render_pane\">\n        <Pane \n         language=\"xml\"\n         displayName=\"HTML\"\n         value={projecthtml}\n         socket={socket}\n         projectid={activeProject}/>\n\n        <Pane \n         language=\"css\"\n         displayName=\"CSS\"\n         value={projectcss}\n         socket={socket}\n         projectid={activeProject}/>\n\n        <Pane \n         language=\"javascript\"\n         displayName=\"JS\"\n         value={projectjs}\n\t       socket={socket}\n       \t projectid={activeProject}/>\n\n      </div>\n\n      <div id=\"render_pane\" className=\"Editor_pane Editor_bottom_pane\">\n        <iframe \n          title=\"output\"\n          srcDoc={srcDoc}\n          sandbox=\"allow-scripts allow-same-origin\"\n          width=\"100%\"\n          height=\"100%\"/>\n      </div>\n\n      <StopCollab \n        collaboratorName={collaboratorName}\n        open={displayExit}/>\n    </div>\n  );\n}\n\nexport default Editor;\n","import React, { useEffect, useRef } from 'react';\nimport './User.css';\nimport Icon_1 from \"../../images/avatar-1.png\";\nimport Icon_2 from \"../../images/avatar-2.png\";\nimport Icon_3 from \"../../images/avatar-3.png\";\nimport Icon_4 from \"../../images/avatar-4.png\";\nimport Icon_5 from \"../../images/avatar-5.png\";\nimport Icon_6 from \"../../images/avatar-6.png\";\nimport Icon_7 from \"../../images/avatar-7.png\";\nimport Icon_8 from \"../../images/avatar-8.png\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nconst User = (props) => {\n\n  const { name, isActive, onClick, avatar } = props;\n  const nameRef = useRef();\n\n  const isOverflowing = (elt) => {\n    return elt.offsetWidth < elt.scrollWidth;\n  }\n\n  // add scroll effect when text overflows\n  useEffect(() => {\n    if (isOverflowing(nameRef.current)) {\n      nameRef.current.classList.add(\"marquee\");\n    }\n  });\n\n\n  const addAvatar = () => {\n    switch (avatar) {\n      case \"1\":\n        return Icon_1;\n\n      case \"2\":\n        return Icon_2;\n\n      case \"3\":\n        return Icon_3;\n\n      case \"4\":\n        return Icon_4;\n\n      case \"5\":\n        return Icon_5;\n\n      case \"6\":\n        return Icon_6;\n\n      case \"7\":\n        return Icon_7;\n\n      case \"8\":\n        return Icon_8;\n      \n      default:\n        return;\n    }   \n  }\n\n  return (\n    <div className=\"User_container\" onClick={onClick}>\n      <div className=\"User_image_container\">\n        <div className=\"User_image\">\n          {avatar !== \"0\" ?\n            (<img src={addAvatar()} className=\"current_icon\" alt=\"Current avatar\"/>) : \n            (<AccountCircleIcon style = {{fontSize: 40}} />)}\n            <div className=\"User_activity\">\n              {isActive ?\n              <div className=\"active\"></div> :\n              <div className=\"inactive\"></div>}\n            </div>\n\t          \n        </div>\n      </div>\n      <span className=\"User_name\" ref={nameRef}>\n        {name}\n      </span>\n    </div>\n  );\n}\n\nexport default User\n\n","import React from 'react';\nimport './ConnectedUsers.css';\nimport User from './User.js';\n\nconst ConnectedUsers = (props) => {\n  \n  const { activeUsers, contacts, onActiveUserClick, onRecentUserClick, isVisible } = props;\n  const actives = activeUsers.map((user) => (\n   <User\n      key={user.username}\n      name={user.name}\n      isActive={user.isActive}\n      onClick={() => onActiveUserClick(user.name, user.username, user.avatar)}\n      avatar={user.avatar}/>\n  ));\n\n  const recentContacts = contacts.map((user) => (\n    <User\n      key={user.username}\n      name={user.name}\n      isActive={user.isActive}\n      onClick={() => onRecentUserClick(user.username, user.name, user.isActive, user.avatar)}\n      avatar={user.avatar}/>\n  ));\n\n  return (\n    <div className=\"ConnectedUsers_container card\">\n      <span className=\"ConnectedUsers_label\">Recent contacts</span>\n      {recentContacts.length > 0 && isVisible? \n        recentContacts : \n        (<span className=\"no_users\">No recent contacts</span>)}\n\n      <span className=\"ConnectedUsers_label top\">Active users</span>\n      {actives.length > 0 && isVisible? \n        actives : \n        (<span className=\"no_users\">No active users</span>)}\n    </div>\n  );\n}\n\nexport default ConnectedUsers\n","import React, { useEffect, useRef, useState } from 'react';\nimport './Searchbar.css';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst Searchbar = (props) => {\n  const { query, onChange } = props;\n  const searchBarRef = useRef();\n  const [focus, setFocus] = useState(false);\n\n  const handleChange = elt => {\n    onChange(elt.target.value);\n  }\n\n  useEffect(() => {\n    focus ? \n      searchBarRef.current.classList.add(\"Searchbar_container_focused\") : \n      searchBarRef.current.classList.remove(\"Searchbar_container_focused\");\n  }, [focus]);\n\n  return (\n    <div className=\"Searchbar_container card\" ref={searchBarRef}>\n\n      <div className=\"Searchbar_icon_container\">\n        <SearchIcon className=\"Searchbar_icon\"/>\n      </div>\n      \n      <input \n        type=\"text\"\n        value={query}\n        onChange={handleChange}\n        placeholder=\"Search for a project\"\n        onFocus={() => setFocus(true)}\n        onBlur={() => setFocus(false)}\n        className=\"Searchbar_input\"/>\n    </div>\n  );\n}\n\nexport default Searchbar\n","import React from 'react';\nimport \"./Notification.css\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport Icon_1 from \"../../images/avatar-1.png\";\nimport Icon_2 from \"../../images/avatar-2.png\";\nimport Icon_3 from \"../../images/avatar-3.png\";\nimport Icon_4 from \"../../images/avatar-4.png\";\nimport Icon_5 from \"../../images/avatar-5.png\";\nimport Icon_6 from \"../../images/avatar-6.png\";\nimport Icon_7 from \"../../images/avatar-7.png\";\nimport Icon_8 from \"../../images/avatar-8.png\";\n\n\nconst Notification = (props) => {\n  const { collaboratorName, accept, decline, isNewProject, projectTitle, collaboratorAvatar } = props;\n\n  const addAvatar = () => {\n    switch (collaboratorAvatar) {\n      case \"1\":\n        return Icon_1;\n\n      case \"2\":\n        return Icon_2;\n\n      case \"3\":\n        return Icon_3;\n\n      case \"4\":\n        return Icon_4;\n\n      case \"5\":\n        return Icon_5;\n\n      case \"6\":\n        return Icon_6;\n\n      case \"7\":\n        return Icon_7;\n\n      case \"8\":\n        return Icon_8;\n      \n      default:\n        return;\n    }   \n  } \n\n  const getMessage = (create) => {\n    if (create) {\n      return `${collaboratorName} is inviting you to CREATE a new project`\n    } else {\n      return `${collaboratorName} is inviting you to CONTINUE working on ${projectTitle}`\n    }\n  }\n  \n  return (\n    <div className=\"Notification_container\">\n      <div className=\"user_icon\">\n      {collaboratorAvatar !== \"0\" ?\n        (<img src={addAvatar()} className=\"current_icon\" alt=\"Current avatar\"/>) : \n        (<AccountCircleIcon style = {{fontSize: 40}} />)}\n      </div>\n\n      <div className=\"Notification_side\">     \n        <span className=\"Notification_title\">\n          {getMessage(isNewProject)}\n        </span>\n\n        <div className=\"Notification_buttons\">\n        <button className=\"Notification_button_decline\" onClick={decline}>DECLINE</button>\n        <button className=\"Notification_button_accept\" onClick={accept}>ACCEPT</button>\n      </div>   \n      </div> \n    </div>\n  )\n}\n\nexport default Notification\n","export default __webpack_public_path__ + \"static/media/banner.c68bbcc5.png\";","import React, { useEffect, useRef, useState } from 'react';\nimport './Header.css';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport InfoIcon from '@material-ui/icons/Info';\nimport Notification from './Notification.js';\nimport Icon_1 from \"../../images/avatar-1.png\";\nimport Icon_2 from \"../../images/avatar-2.png\";\nimport Icon_3 from \"../../images/avatar-3.png\";\nimport Icon_4 from \"../../images/avatar-4.png\";\nimport Icon_5 from \"../../images/avatar-5.png\";\nimport Icon_6 from \"../../images/avatar-6.png\";\nimport Icon_7 from \"../../images/avatar-7.png\";\nimport Icon_8 from \"../../images/avatar-8.png\";\nimport Banner from \"../../images/banner.png\";\n\n\nconst Header = (props) => {\n  const { name, email, handleLogout, displayProfile, notifications, avatar, accept, decline,\n  acceptCallBack, declineCallBack, displayAbout, isActive } = props;\n  const [displayMenu, setDisplayMenu] = useState(false);\n  const [displayNotifications, setDisplayNotifications] = useState(false);\n  const menuRef = useRef();\n  const notificationsRef = useRef();\n  const userIconRef = useRef();\n  const notificationIconRef = useRef();\n\n\n  const addAvatar = () => {\n    switch (avatar) {\n      case \"1\":\n        return Icon_1;\n\n      case \"2\":\n        return Icon_2;\n\n      case \"3\":\n        return Icon_3;\n\n      case \"4\":\n        return Icon_4;\n\n      case \"5\":\n        return Icon_5;\n\n      case \"6\":\n        return Icon_6;\n\n      case \"7\":\n        return Icon_7;\n\n      case \"8\":\n        return Icon_8;\n      \n      default:\n        return;\n    }   \n  } \n\n\n  const handleClick = callback => {\n    setDisplayMenu(prevState => !prevState);\n    callback();\n  }\n\n  const renderNotifications = () => {\n    return notifications.map((notification) => (\n      <Notification\n        key={`Notification_${notifications.indexOf(notification)}`}\n        collaboratorName={notification.collaboratorName}\n        accept={() => accept(notification, \n\t\t      () => acceptCallBack(notification.type, notification.proj))}\n        decline={() => decline(notification, \n\t\t      () => declineCallBack(notification.collaborator, notification.type))}\n        isNewProject={notification.isNewProject}\n        projectTitle={notification.projectTitle}\n        collaboratorAvatar={notification.collaboratorAvatar}/>\n     ));\n  }\n\n\n  useEffect(() => {\n    displayNotifications ? notificationsRef.current.style.display = \"flex\" : notificationsRef.current.style.display = \"none\";\n     const handleClickOutside = (event) => {\n      if (notificationsRef.current && !notificationsRef.current.contains(event.target) && \n          notificationIconRef.current && !notificationIconRef.current.contains(event.target) && displayNotifications) {      \n        setDisplayNotifications(false);     \n      }\n    };\n  \n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n\n  }, [displayNotifications]);\n\n\n  useEffect(() => {\n    displayMenu ? menuRef.current.style.display = \"flex\" : menuRef.current.style.display = \"none\";\n     const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target) && \n          userIconRef.current && !userIconRef.current.contains(event.target) && displayMenu) {      \n        setDisplayMenu(false);     \n      }\n    };\n  \n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n\n  }, [displayMenu]);\n\n  return (\n    <div className=\"Header_container\">\n      <div className=\"Banner\">\n        <img src={Banner} alt=\"Banner\" className=\"main_icon\"/>\n      </div>\n\n      <div className=\"Header_user\">\n        <div \n          className={`Header_notifications_icon ${notifications.length > 0 && !displayNotifications ? \n            \"notification_animation\" : \"\"}`}\n          ref={notificationIconRef}>\n          <NotificationsIcon style={{ fontSize: 40 }}\n          onClick={() => setDisplayNotifications(prevState => !prevState)}/>\n\n          {notifications.length > 0 && (\n            <div className=\"Notifications_count_container\">\n              <span className=\"Notifications_count\">{notifications.length}</span>\n            </div>)}\n        </div>\n\n        <div className=\"Header_user_icon\" \n          ref={userIconRef} \n          onClick={() => setDisplayMenu(prevState => !prevState)}>\n          {avatar !== \"0\" ?\n            (<img src={addAvatar()} className=\"current_icon\" alt=\"Current avatar\"/>) : \n            (<AccountCircleIcon style = {{fontSize: 40}} />)}\n              <div className=\"activity\">\n              {isActive ?\n                <div className=\"active_user\"></div> :\n                <div className=\"inactive_user\"></div>}\n            </div>\n        </div>\n\n        <div className=\"Header_notifications menu\" ref={notificationsRef}>\n          {notifications.length > 0 ? ( \n            <div className=\"Notification_main\">\n              <span className=\"Notifications_title\">Notifications</span>          \n              {renderNotifications()}\n            </div>\n                    \n            ) : (\n            <span className=\"no_notifications\">\n              You do not have any notifications\n            </span>\n          )}       \n        </div>\n\n\n        <div className=\"Header_menu menu\" ref={menuRef}>\n          <div className=\"Header_user_details\">\n            <span className=\"Header_user_name\">\n              {name}\n            </span>\n            <span className=\"Header_user_email\">\n              {email}\n            </span>\n          </div>\n          <ul>\n            <li onClick={() => handleClick(displayProfile)}>\n              <AccountCircleIcon className=\"Header_menu_icon\"/>\n              <span>\n                Profile\n              </span>\n            </li>\n            <li onClick={() => handleClick(displayAbout)}>\n              <InfoIcon className=\"Header_menu_icon\"/>\n              <span>\n                About\n              </span>\n            </li>\n            <li onClick={() => handleClick(handleLogout)}>\n              <ExitToAppIcon className=\"Header_menu_icon\"/>\n              <span>\n                Logout\n              </span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Header\n","import React from 'react';\nimport \"./AspectRatio.css\";\n\nconst AspectRatio = (child) => {\n  return (\n    <div className=\"AspectRatio\">\n      <div className=\"AspectRatio-innerWrapper\">{child}</div>\n    </div>\n  );\n}\n\nexport default AspectRatio;\n","import React from 'react';\nimport './ProjectCard.css';\nimport AspectRatio from './AspectRatio.js';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\n\nconst ProjectCard = (props) => {\n  const { title, collaboratorName, downloadProject, continueProject, image } = props;\n\n  return (\n    <div className=\"Project_container card\">\n      {AspectRatio(\n        <div className=\"Project_icon\">\n          <img src={image} alt=\"Project Icon\" className=\"Project_image\"/>\n        </div>\n      )}    \n      <span className=\"Project_title\">\n        {title}\n      </span>\n      <span className=\"Project_collaborator\">\n        {`Collaborator: ${collaboratorName}`}\n      </span>\n\n      <div className=\"Project_options\">\n        <button className=\"download\" onClick={downloadProject}>\n          <GetAppIcon />\n          <span className=\"button_text\">\n            Download\n          </span>\n        </button>\n\n        <button className=\"continue\" onClick={continueProject}>\n          <PlayArrowIcon />\n          <span className=\"button_text\">\n            Continue\n          </span>\n        </button>\n      </div>\n       \n    </div>\n  );\n}\n\nexport default ProjectCard\n","import React from 'react';\nimport './ProgressSpinner.css';\n\nconst ProgressSpinner = () => {\n  return (\n    <div className=\"Progress_container\">\n      \n      <div className=\"line-base\"></div>\n      <div className=\"line\"></div>\n    </div>\n  );\n}\n\nexport default ProgressSpinner\n","import React, { useRef } from 'react';\nimport { Dialog, DialogContent } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './ConnectionDialog.css';\nimport ProgressSpinner from './ProgressSpinner.js';\nimport { createProject, loadUsers, selectCollab } from '../../actions';\nimport { ACTION } from '../../actions/types.js'\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\n\n\nconst ConnectionDialog = (props) => {\n  const dispatch = useDispatch();\n  const { collaboratorId, collaboratorName, isOpen, closeDialog, fromProject, \n\t  message, socket, isActive, history, notifications } = props;\n  const optionsRef = useRef();\n  const user = useSelector((state) => state.userReducer);\n  const { activeProject, title } = useSelector((state) => state.projectReducer);\n\n  socket.onmessage = (response) => {\n    let message = JSON.parse(response.data)\n    let type = message.data.split(\"-\")\n    let answer = type[0];\n    switch (message.type) {\n      case \"REC_CREATE_PING\":\n        if(answer === \"yes\"){\n\t   newProject();\n        } else {\n          closeDialog();\n        }\n\tbreak;\n      case \"REC_CONTINUE_PING\":\n        if(answer === \"yes\"){\n\t  dispatch(selectCollab({ username: collaboratorId, name: collaboratorName, \n\t\t  avatar: type[1] }));\n    history.push(\"/editor\");\n        } else {\n          closeDialog();\n        }\n\t    break;\n      default:\n    }\n  }\n\n  const displayConnectionStatus = () => {\n    optionsRef.current.classList.add(\"ConnectionDialog_hide_options\");\n    if (fromProject) {\n      console.log(activeProject);\n      for (let notification of notifications) {\n        console.log(notification);\n        if (notification.projectid === activeProject) {\n          let data = `yes-${user.avatar}`;\n          let msg = JSON.stringify({ id: collaboratorId, type: ACTION.REC_CONTINUE_PING, data: data })\n          socket.send(msg);\n          history.push(\"/editor\");\n          return;\n        }\n      }\n\n      let data = `continue=${user.username}=${user.name}=${user.avatar}=${activeProject}=${title}`;\n      let msg = JSON.stringify({ id: collaboratorId, type: ACTION.PING_USER, data: data })\n      socket.send(msg)\n\n    } else {\n      let data = `create=${user.username}=${user.name}=${user.avatar}`;\n      let msg = JSON.stringify({ id: collaboratorId, type: ACTION.PING_USER, data: data })\n      socket.send(msg)\n    }\n  }\n\n  const newProject = () => {\n    dispatch(createProject({ username: user.username, \n\t    collaborator: collaboratorId, title: \"New Project\"}));\n    closeDialog();\n    dispatch(loadUsers(user.username));\n  }\n\n  const cancelInvite = () => {\n    let msg = {};\n    let data = `cancel=${user.username}=${user.name}=${user.avatar}=${activeProject}=${title}`;\n    msg = JSON.stringify({ id: collaboratorId, type: ACTION.PING_USER, data: data })\n    socket.send(msg);\n    closeDialog();\n  }\n\n  return (\n    <Dialog open={isOpen}>\n      <DialogContent>\n        \n        <div className=\"ConnectionDialog_container\"> \n          <span className=\"ConnectionDialog_header\">\n            Connecting\n          </span>\n          <span className=\"ConnectionDialog_summary\">\n            {`Waiting for ${collaboratorName} to connect...`}\n          </span>\n          <ProgressSpinner />\n          <div className=\"ConnectionDialog_button_container\">\n            <button className=\"ConnectionDialog_button\" onClick={cancelInvite}>\n              CANCEL\n            </button>\n          </div>\n        </div>\n\n        {!isActive && ( \n          <div className=\"ConnectionDialog_options\">\n\n            <div className=\"Icon_container\">\n              <ErrorOutlineIcon style={{ fontSize: 40, color: \"gray\" }}/>\n            </div>\n            <span className=\"AlertDialog_message\">You cannot collaborate with anyone when you are appearing offline.</span>      \n\n            <div className=\"AlertDialog_button_container\">\n            <button className=\"AlertDialog_button\" onClick={closeDialog}>CLOSE</button>\n          </div>\n          </div>       \n        )}\n        \n        {isActive && (\n        <div className=\"ConnectionDialog_options\" ref={optionsRef}>\n          <span className=\"ConnectionDialog_header\">\n            Invite to collaborate?\n          </span>\n          <div className=\"Connection_Body\">\n          </div>\n          <span className=\"ConnectionDialog_alert\"> \n            {message}\n          </span>\n          <div className=\"Connection_confirm_button_container\">\n            <button className=\"Connection_confirm_button left\" onClick={displayConnectionStatus}>\n              YES\n            </button>\n            <button className=\"Connection_confirm_button right\" onClick={closeDialog}>\n              NO\n            </button>\n          </div>\n        </div>)}\n\t      \n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default ConnectionDialog\n","import React from 'react';\nimport { Dialog, DialogContent } from '@material-ui/core';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport './AlertDialog.css'\n\nconst AlertDialog = (props) => {\n  const { isOpen, closeDialog, message } = props;\n\n  return (\n    <Dialog open={isOpen}>\n      <DialogContent>\n        <div className=\"AlertDialog_container\">\n          <div className=\"AlertIcon_container\">\n            <ErrorOutlineIcon style={{ fontSize: 40, color: \"gray\" }}/>\n          </div>\n          <span className=\"AlertDialog_message\">{message}</span>\n\n          <div className=\"AlertDialog_button_container\">\n            <button className=\"AlertDialog_button\" onClick={closeDialog}>CLOSE</button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default AlertDialog\n","import React from 'react'\nimport { Dialog, DialogContent } from '@material-ui/core';\nimport './About.css'\n\n\nfunction About(props) {\n  const {isOpen, closeDialog} = props;\n  return (\n    <Dialog open={isOpen}>\n    <DialogContent>\n      <div className=\"About_container\">\n        <div className=\"fixed\">\n          <span className=\"About_header\">\n            About\n          </span>\n        </div>\n        \n\n        <div className=\"About_content\">\n          <span className=\"About_message\">\n            COLLABCODE is a platform that allows users to learn the basics of web development\n            collaboratively. Any two online users can connect by creating a collaborative project to live code \n            basic HTML, CSS and Javascript code while getting immediate feedback. \n          </span>\n\n          <span className=\"About_message below\">\n            To use CODECOLLAB, you have to select any user who is online to send a request to\n            create a new project. Once the project has been created, you can then send an invitation\n            to your partner to start collaborating on the new project by clicking continue on the project tile.\n          </span>\n\n          <span className=\"About_message below\">\n            To encourage collaboration amongst students, you can only work on a project while\n            you and your partner are both online and editing together. However, you also have an option to download the \n            project files and continue working offline.\n          </span>\n\n          <span className=\"About_message below\">\n            If you do not want to receive invitations to collaborate from other users while using the application, you can hide your \n            online status by updating your profile settings. However, while your online status is hidden, you will not be able to\n            collaborate with other users or to see other online users.\n          </span>\n        </div>\n\n        <div className=\"About_button_container\">\n            <button className=\"About_button\" onClick={closeDialog}>CLOSE</button>\n          </div>\n      </div>\n    </DialogContent>\n  </Dialog>\n  )\n}\n\nexport default About\n","import React, { useState } from 'react';\nimport { Dialog, DialogContent } from '@material-ui/core';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport './ProfileDialog.css'\nimport Icon_1 from \"../../images/avatar-1.png\";\nimport Icon_2 from \"../../images/avatar-2.png\";\nimport Icon_3 from \"../../images/avatar-3.png\";\nimport Icon_4 from \"../../images/avatar-4.png\";\nimport Icon_5 from \"../../images/avatar-5.png\";\nimport Icon_6 from \"../../images/avatar-6.png\";\nimport Icon_7 from \"../../images/avatar-7.png\";\nimport Icon_8 from \"../../images/avatar-8.png\";\n\nconst ProfileDialog = (props) => {\n  const { isOpen, name, currentOnlineStatus, closeDialog, saveProfile, avatar } = props;\n  const [updatedName, setUpdatedName] = useState(name);\n  const [updatedPassword, setUpdatedPassword] = useState(\"\");\n  const [showOnlineStatus, setShowOnlineStatus] = useState(currentOnlineStatus);\n  const [selectedAvatar, setSelectedAvatar] = useState(avatar);\n\n  const updateName = elt => {\n    setUpdatedName(elt.target.value)\n  }\n\n  const updatePassword = elt => {\n    setUpdatedPassword(elt.target.value)\n  }\n\n  const changeAvatar = (avatar) => {\n    switch (avatar) {\n      case \"1\":\n        return Icon_1;\n\n      case \"2\":\n        return Icon_2;\n\n      case \"3\":\n        return Icon_3;\n\n      case \"4\":\n        return Icon_4;\n\n      case \"5\":\n        return Icon_5;\n\n      case \"6\":\n        return Icon_6;\n\n      case \"7\":\n        return Icon_7;\n\n      case \"8\":\n        return Icon_8;\n      \n      default:\n        return;\n    }   \n  } \n\n  return (\n    <Dialog open={isOpen}>\n      <DialogContent>\n        <div className=\"ProfileDialog_container\">\n\n          <span className=\"ProfileDialog_header\">\n            Profile information\n          </span>\n\n          <div className=\"Update_profile_pic\">\n            <div className=\"Profile_current\">\n              {selectedAvatar !== \"0\" ? \n                (<img src={changeAvatar(selectedAvatar)} className=\"current_icon\" alt=\"Current avatar\"/>) : \n                (<AccountCircleIcon style={{fontSize: 90}}/>)}\n            </div>\n\n            <div className=\"Profile_new\">    \n              <span>Select new avatar</span>\n              <div className=\"profile_icons\">              \n                <img src={Icon_1} className=\"new_icon\" alt=\"Icon Option 1\" onClick={() => setSelectedAvatar(\"1\")}/>     \n                <img src={Icon_2} className=\"new_icon\" alt=\"Icon Option 2\" onClick={() => setSelectedAvatar(\"2\")}/> \n                <img src={Icon_3} className=\"new_icon\" alt=\"Icon Option 3\" onClick={() => setSelectedAvatar(\"3\")}/> \n                <img src={Icon_4} className=\"new_icon\" alt=\"Icon Option 4\" onClick={() => setSelectedAvatar(\"4\")}/> \n                <img src={Icon_5} className=\"new_icon\" alt=\"Icon Option 5\" onClick={() => setSelectedAvatar(\"5\")}/> \n                <img src={Icon_6} className=\"new_icon\" alt=\"Icon Option 6\" onClick={() => setSelectedAvatar(\"6\")}/> \n                <img src={Icon_7} className=\"new_icon\" alt=\"Icon Option 7\" onClick={() => setSelectedAvatar(\"7\")}/> \n                <img src={Icon_8} className=\"new_icon\" alt=\"Icon Option 8\" onClick={() => setSelectedAvatar(\"8\")}/>          \n              </div>        \n            </div>\n          </div>\n\n          <div className=\"ProfileDialog_inputs\">\n            <label htmlFor=\"name_input\" className=\"input_container input_left\">\n              <span className=\"Profile_input_label\">\n                Name\n              </span>\n              <input \n                type=\"text\"\n                name=\"name_input\"\n                value={updatedName}\n                onChange={updateName}\n                className=\"Profile_input\"/>\n            </label>\n            \n            <label htmlFor=\"username_input\" className=\"input_container input_right\">\n              <span className=\"Profile_input_label\">\n                Password\n              </span>\n              <input \n                type=\"password\"\n                name=\"username_input\"\n                onChange={updatePassword}\n                className=\"Profile_input\"/>\n            </label>       \n          </div> \n\n          <div className=\"ProfileDialog_toggle_container\">\n            <label htmlFor=\"status_toggle\" className=\"Profile_toggle\">\n              <input\n                type=\"checkbox\"\n                id=\"status_toggle\"\n                name=\"status_toggle\"\n                checked={showOnlineStatus}\n                onChange={() => setShowOnlineStatus(prevState => !prevState)}\n                className=\"Profile_toggle_input\"/>\n              <div className=\"Profile_toggle_fill\"></div>   \n              <span className=\"Toggle_label\">\n                Display online status \n              </span>       \n            </label>\n\n            <span className=\"online_status_message\">\n              If you do not display your online status, you will not be able to see other users \n              who are online\n            </span>\n          </div>\n\n          <div className=\"ProfileDialog_button_container\">\n            <button className=\"ProfileDialog_button left\" onClick={closeDialog}>CLOSE</button>\n            <button \n              className=\"ProfileDialog_button right\" \n              onClick={() => saveProfile(updatedName, updatedPassword, showOnlineStatus, selectedAvatar)}>SAVE</button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default ProfileDialog\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { saveAs } from 'file-saver';\nimport './Projects.css';\nimport ConnectedUsers from './ConnectedUsers.js';\nimport Searchbar from './Searchbar.js';\nimport Header from './Header.js';\nimport ProjectCard from './ProjectCard.js';\nimport ConnectionDialog from './ConnectionDialog.js';\nimport AlertDialog from './AlertDialog.js';\nimport About from './About.js';\nimport ProfileDialog from './ProfileDialog.js';\nimport { changeName, chooseProject, clearReducer, updateActive, signOut, \n\tloadProjects, clearProject, changeAvatar, \n\tchangeVisibility, changePassword, selectCollab } from '../../actions';\nimport SocketSingleton from '../../middleware/socketMiddleware.js';\nimport { ACTION } from '../../actions/types.js';\n\nconst Projects = ({ history }) => {\n  // Get user from store\n  const user = useSelector((state) => state.userReducer);\n  const dispatch = useDispatch();\n  const { activeUsers, contacts, onlineProjects,\n\t  offlineProjects } = useSelector((state) => state.projectReducer);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [openConnectionDialog, setOpenConnectionDialog] = useState(false);\n  const [currentConnection, setCurrentConnection] = useState({});\n  const [displayedProjects, setDisplayedProjects] = useState([]);\n  const [allProjects, setAllProjects] = useState(onlineProjects.concat(offlineProjects));\n  const [alertWarning, setAlertWarning] = useState(\"\");\n  const [openAlertDialog, setOpenAlertDialog] = useState(false);\n  const [allUsers, setAllUsers] = useState([]);\n  const [openProfileDialog, setOpenProfileDialog] = useState(false);\n  const [connectionAlert, setConnectionAlert] = useState(\"\");\n  const [loadingProjects, setLoadingProjects] = useState(true);\n  const [fromProject, setFromProject] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [displayAbout, setDisplayAbout] = useState(false);\n\n  let socket = SocketSingleton.getInstance();\n  socket.onopen = () => {\n    let mes = JSON.stringify({ id: user.username, type: ACTION.SIGN_IN,\n      data: \"\" });\n    socket.send(mes);\n    let allPaneIDS = []\n    allProjects.forEach((project) => {\n      // Setup socket for each editor pane with specified project \n      let projectid = project.projectid;\n      allPaneIDS.push(projectid);\n    });\n\n    allPaneIDS.forEach(paneID => {\n      let messageDto = JSON.stringify({ id: paneID, \n\t  type: ACTION.LOAD_INIT_PROJECTS, data: \"\" })\n      socket.send(messageDto);\n    });\n\n  };\n\n  socket.onmessage = (response) => {\n    let msg = JSON.parse(response.data);\n    switch (msg.type) {\n      case ACTION.PING_USER:\n\tlet info_arr = msg.data.split(\"=\");\n\tlet ping_type = info_arr[0];\n\tlet collaboratorId = info_arr[1];\n\tlet collaboratorName = info_arr[2];\n\tlet collabAvatar = info_arr[3];\n  if (ping_type === \"cancel\") {\n    const updatedNotifications = notifications.filter((notification) => {\n      return notification.collaboratorId === collaboratorId;\n    })\n    setNotifications(updatedNotifications);\n  }\n\n\telse if (ping_type === \"create\") {\n    setNotifications([...notifications,\n\t\t  { collaboratorName: collaboratorName,\n\t\t    collaborator: collaboratorId,\n        projectid: \"\",\n\t      isNewProject: true,\n\t\t    projectTitle: \"New Project\",\n\t\t    type: ping_type,\n\t\t    proj: collaboratorId,\n\t\t    collaboratorAvatar: collabAvatar,\n\t\t  }]);\n\t} else {\n\t  let projectid = info_arr[4];\n\t  let html = \"\";\n\t  let css = \"\";\n\t  let js = \"\";\n    for(var i = 0; i < onlineProjects.length; i++) {\n      if (onlineProjects[i].projectid === projectid) {\n        html = onlineProjects[i].html\n        css = onlineProjects[i].css\n        js = onlineProjects[i].js\n        break;\n      }\n\t  }\n\t  let avatar = \"0\";\n          for(var j = 0; j < contacts.length; i++) {\n\t\tif (contacts[j].username === collaboratorId) {\n\t\t\tavatar = contacts[j].avatar\n\t\t\tbreak;\n\t\t}\n\t  }\n\t  let title = info_arr[5];\n\t  let proj = { collaborator: collaboratorId, collaboratorName: collaboratorName,\n\t\t  title: title, projectid: projectid, html: html, css: css, js: js,\n\t  avatar: avatar }\n          setNotifications([...notifications,\n\t\t  { collaboratorName: collaboratorName,\n        projectid: projectid,\n\t\t    collaborator: collaboratorId,\n\t      isNewProject: false,\n\t\t    projectTitle: proj.title,\n\t\t    type: ping_type,\n\t\t    proj: proj,\n\t\t    collaboratorAvatar: collabAvatar,\n\t\t  }]);\n\t}\n\tbreak;\n      default:\n    }\n  }\n \n  window.onbeforeunload = () => {\n    socket.onclose = () => {\n    }\n  }\n\n\t\n  // Update active status if online\n  useEffect(() => {\n    if (!user.isVisible) {\n      return;\n    } else {\n      const interval = setInterval(() => {\n        dispatch(updateActive({ username: user.username, isVisible: user.isVisible, \n          isProjectsPage: true }));\n      }, 2000);\n      return () => { \n\t    clearInterval(interval);\n      }\n    }\n  }, [user.username, user.isVisible, dispatch]);\n\n  // this displays the connection dialog for the user to confirm they want to send the invite\n  const continueProject = (projectid, title, collaborator, collaboratorName, \n\t  html, css, js) => {\n    \n    if (isOnline(collaborator)) {\n      setFromProject(true);\n      setOpenConnectionDialog(true);\n      let avatar = \"0\";\n      let isActive = true;\n      for(var i = 0; i < contacts.length; i++) {\n      if (contacts[i].username === collaborator) {\n        avatar = contacts[i].avatar\n        isActive = contacts[i].isActive\n        break;\n\t}\n      }\n      setCurrentConnection({\n        name: collaboratorName, \n        username: collaborator,\n        avatar: avatar,\n        isActive: isActive,\n      });\n      dispatch(selectCollab({ name: collaboratorName, username: collaborator,\n\t      avatar: avatar }));\n      dispatch(chooseProject({ projectid: projectid, \n\t      collaborator: collaborator, collaboratorName: collaboratorName, \n\t      html: html, css: css, js: js, title: title, collaboratorAvatar: avatar }));\n      \n      setConnectionAlert(\n        `This will send an invitation to ${collaboratorName} to continue working on ${title}`\n        );\n\n    } else {\n      setOpenAlertDialog(true);\n      setAlertWarning(\n        `${collaboratorName} is currently offline. You can only edit \n\t      this project when you are both online.`\n      );\n    }\n  }\n\n  // this displays the connection dialog for the user to confirm they want to send the invite\n  const onActiveUserClick = (name, username, avatar) => {\n    setFromProject(false);\n    setOpenConnectionDialog(true);\n    setCurrentConnection({\n      name: name, \n      username: username,\n      avatar: avatar,\n      isActive: true\n    });\n    dispatch(selectCollab({ name: name, username: username, avatar: avatar }));\n    setConnectionAlert(\n      `This will CREATE a new project with ${name}.`\n    );\n  }\n\n  // this is called when the user tries to connect with a recent user\n  const onRecentUserClick = (collaborator, collaboratorName, isActive, avatar) => {\n    if (isActive) {\n      onActiveUserClick(collaboratorName, collaborator, avatar);\n      return;\n    }\n    setOpenAlertDialog(true);\n    setAlertWarning(\n      `${collaboratorName} is currently offline. You can only CREATE new projects with ACTIVE users.`\n    );\n  }\n\n  \n  // when the user want to log out\n  const handleLogout = () => {\n    dispatch(signOut());\n    dispatch(clearReducer());\n    history.push('/');\n  }\n\n  // called when user clicks on Profile\n  const displayProfile = () => {\n    setOpenProfileDialog(true);\n  }\n  const downloadProject = (title, html, css, js) => {  \n    let folderName = getFolderName(title);\n    const zip = require('jszip')();\n    let folder = zip.folder(folderName);\n\n    // add the files to the folder\n    folder.file(\"index.js\", js);\n    folder.file(\"style.css\", css);\n    folder.file(\"index.html\", html);\n\n    zip.generateAsync({type:\"blob\"})\n    .then(function(content) {\n        // see FileSaver.js\n        saveAs(content, `${folderName}.zip`);\n    });\n  }\n\n  // format the folder name to get rid of white spaces and add underscores\n  const getFolderName = (title) => {\n    let split = title.split(/[\\s,]+/);\n    split = split.filter(item => {\n      return item !== \"\";\n    }).map(word => word.toLowerCase()).join(\"_\")\n    return split;\n  }\n\n  // check if the user is with given username is online\n  const isOnline = (collaborator) => {\n    for (let user of allUsers) {\n      if (user.username === collaborator) {\n        return user.isActive;\n      }\n    }\n    return false;\n  }\n\n  // when the user clicks save after editing Profile\n  const saveProfile = (name, password, isVisible, avatar) => {\n    if (user.name !== name) {\n      dispatch(changeName({ username: user.username, name: name }));\n    }\n\n    if (user.avatar !== avatar) {\n      dispatch(changeAvatar({ username: user.username, avatar: avatar }));\n    }\n    \n    if (user.isVisible !== isVisible) {\n      dispatch(changeVisibility({ username: user.username, visibility: isVisible }));\n    }\n    \n    if (password.length >= 8 && password.length <= 60) {\n      dispatch(changePassword({ username: user.username, password: password }));\n    }\n    setOpenProfileDialog(false);\n  }\n\n  const closeConnectionDialog = (fromProject) => {\n    setOpenConnectionDialog(false);\n    if (fromProject) {\n      dispatch(clearProject());\n    }\n    setConnectionAlert(\"\");\n    setCurrentConnection({});\n  }\n\n  const closeAlertDialog = () => {\n    setAlertWarning(\"\");\n    setOpenAlertDialog(false);\n  }\n\n  const getProjectComponents = () => {\n    let projects = displayedProjects.map((project) => (\n      <ProjectCard\n        key={project.projectid}\n        title={project.title}\n        image={project.image}\n        collaboratorName={project.collaboratorName}\n        downloadProject={() => downloadProject(project.projectid, project.html, project.css, project.js)}\n        continueProject={() => continueProject(\n          project.projectid, project.title, project.collaborator, \n\t  project.collaboratorName, project.html, project.css, project.js\n        )}/>\n    ));\n    return projects;\n  }\n\n\n  // \n  const acceptCollaboration = (notification, callBack) => {\n    const updated = notifications.filter(notif => {\n      return notif !== notification\n    })\n    setNotifications(updated);\n    callBack();\n  }\n\n  // accept when a user sends collaboration request\n  const acceptCallBack = (not_type, info) => {\n    if (not_type === \"create\") {\n      let msg = JSON.stringify({ id: info, type: ACTION.REC_CREATE_PING, data: \"yes\" })\n      socket.send(msg);\n      dispatch(loadProjects(user.username))\n    } else {\n      let data = `yes-${user.avatar}`;\n      let msg = JSON.stringify({ id: info.collaborator, type: ACTION.REC_CONTINUE_PING, \n\t      data: data })\n      socket.send(msg);\n      dispatch(chooseProject({ projectid: info.projectid, \n\t  collaborator: info.collaborator, collaboratorName: info.collaboratorName, \n\t  html: info.html, css: info.css, js: info.js, title: info.title, collaboratorAvatar: info.avatar }));\n      history.push(\"/editor\");\n    }\n  }\n\n\n  // decline when a user sends collaboration request\n  const declineCallBack = (collabId, ping_type) => {\n    if (ping_type === \"create\") {\n      let msg = JSON.stringify({ id: collabId, type: ACTION.REC_CREATE_PING, data: \"no\" })\n      socket.send(msg);\n    } else {\n      let msg = JSON.stringify({ id: collabId, type: ACTION.REC_CONTINUE_PING, data: \"no\" })\n      socket.send(msg);\n    }\n\n  }\n\n  const declineCollaboration = (notification, callBack) => {\n    const updated = notifications.filter(notif => {\n      return notif !== notification\n    })\n    setNotifications(updated);\n    callBack();\n  }\n\n  useEffect(() => {\n    // disable flickering behavious on window resize\n    let resizeTimer;\n    window.addEventListener(\"resize\", () => {\n      document.body.classList.add(\"resize-animation-stopper\");\n      clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(() => {\n        document.body.classList.remove(\"resize-animation-stopper\");\n      }, 400);\n    });\n  }, []);\n\n\n  useEffect(() => {\n    // set state for active and recent users with dummy users\n    setAllUsers([]);\n    setAllProjects([]);\n    let allUsersReloaded = contacts.concat(activeUsers);\n    let allProjectsReloaded = onlineProjects.concat(offlineProjects);\n    let allPaneIDS = []\n    \n    allProjectsReloaded.forEach((project) => {\n      // Setup socket for each editor pane with specified project \n      let projectid = project.projectid;\n      allPaneIDS.push(projectid);\n    });\n\n    allPaneIDS.forEach(paneID => {\n      let messageDto = JSON.stringify({ id: paneID, \n\t  type: ACTION.LOAD_INIT_PROJECTS, data: \"\" })\n      socket.send(messageDto);\n    });\n\n    setAllUsers(allUsersReloaded);\n    setAllProjects(allProjectsReloaded);\n  }, [contacts, onlineProjects, offlineProjects, activeUsers, socket]);\n\n\n  useEffect(() => {\n    let projects = allProjects.filter((project) => {\n      return project.title.includes(searchQuery) || project.title.includes(searchQuery.toUpperCase());\n    });\n\n    // setDisplayedProjects([]);\n    setDisplayedProjects(projects);\n    \n    return () => {\n      if (loadingProjects) {\n        setLoadingProjects(false);\n      }\n    }\n  }, [searchQuery, allProjects, loadingProjects]);\n\n  return (\n    <div className=\"Projects_container\">\n      <Header \n        name={user.name}\n        email={user.email}\n        handleLogout={handleLogout}\n        displayProfile={displayProfile}\n        notifications={notifications}\n        avatar={user.avatar}\n        accept={acceptCollaboration}\n        acceptCallBack={acceptCallBack}\n        declineCallBack={declineCallBack}\n        decline={declineCollaboration}\n        history={history}\n        isActive={user.isVisible}\n        displayAbout={() => setDisplayAbout(true)}/>\n\n      \n      <div className=\"Projects_main\">\n        <div className=\"Projects_content\">\n          <Searchbar\n            query={searchQuery}\n            onChange={setSearchQuery}/>\n\n          <span className=\"Projects_label\">\n            Recent Projects\n          </span>\n\n          {!loadingProjects && allProjects.length === 0 && ( \n            <div className=\"card Projects_no_result\">\n              <span className=\"no_result_summary\">\n                No projects\n              </span>\n              <span className=\"no_result_message\">\n                You have not collaborated on any projects with anyone. Please select any active user\n                to start collaborating on your first project.\n              </span>\n            </div>\n          )}\n\n          {!loadingProjects && allProjects.length !== 0 && displayedProjects.length === 0 && (\n            <div className=\"card Projects_no_result\">\n              <span className=\"no_result_summary\">\n                No results found\n              </span>\n              <span className=\"no_result_message\">\n                You do not have any project that matches the given name. \n              </span>\n            </div>\n          )}\n\n          {!loadingProjects && displayedProjects.length > 0 && ( \n            <div className=\"Projects_recent\">\n              {getProjectComponents()}\n            </div>\n          )}    \n        </div>\n\n        <div className=\"Projects_sidebar\">\n          <ConnectedUsers \n            activeUsers={activeUsers}\n            contacts={contacts}\n            onActiveUserClick={onActiveUserClick}\n            onRecentUserClick={onRecentUserClick}\n            isVisible={user.isVisible}/>\n        </div>   \n      </div>\n      \n      {openConnectionDialog && (\n        <ConnectionDialog\n          collaboratorName={currentConnection.name}\n          collaboratorId={currentConnection.username}\n          isActive={user.isVisible}\n          isOpen={openConnectionDialog}\n          fromProject={fromProject}\n          closeDialog={() => closeConnectionDialog(fromProject)}\n          message={connectionAlert}\n          socket={socket}\n          history={history}\n          notifications={notifications}/>\n      )}\n        \n      {openAlertDialog && (\n        <AlertDialog \n          isOpen={openAlertDialog}\n          closeDialog={closeAlertDialog}\n          message={alertWarning}/>\n      )} \n\n      {openProfileDialog && (\n        <ProfileDialog \n          isOpen={openProfileDialog}\n          name={user.name} \n          currentOnlineStatus={user.isVisible}\n          closeDialog={() => setOpenProfileDialog(false)}\n          saveProfile={saveProfile}\n          avatar={user.avatar}/>\n      )}  \n\n      {displayAbout && (\n        <About \n          isOpen={displayAbout}\n          closeDialog={() => setDisplayAbout(false)}\n        />\n      )}    \n    </div>\n  );\n}\nexport default Projects;\n","import React from 'react';\nimport { HashRouter, Route, Redirect } from 'react-router-dom';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createHashHistory } from \"history\";\nimport Auth from './components/Auth/Auth';\nimport Editor from './components/Editor/Editor'\nimport Projects from './components/Projects/Projects'\nimport { useSelector } from 'react-redux';\n\n\n\nconst history = createHashHistory();\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'light',\n    primary: {\n      main: '#6E4AB1'\n    },\n    secondary: {\n      main: '#000000'\n    }\n  },\n  typography: {\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontSize: 14,\n    fontWeightLight: 400,\n    fontWeightRegular: 500,\n    fontWeightMedium: 600\n  }\n});\n\nfunction App() {\n  const user = useSelector((state) => state.userReducer);\n  const isAuthenticated = () => {\n    return user.isSignedIn;\n  }\n\n  const PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route {...rest} render={(props) => (\n        isAuthenticated()\n        ? <Component {...props} />\n        : <Redirect to='/' />\n    )} />\n  )\n\n  return (\n    <ThemeProvider theme={theme}>\n      <HashRouter history={history}>\n        <Route  path=\"/\" exact component={Auth} />\n        <PrivateRoute path=\"/editor\" exact component={Editor} />\n        <PrivateRoute path=\"/projects\" exact component={Projects} />\n      </HashRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ACTION } from '../actions/types';\n \nconst initialState = {\n  activeProject: '',\n  html: '',\n  css: '',\n  js: '',\n  title: '',\n  collaboratorId: '',\n  collaboratorName: '',\n  collaboratorAvatar: '0',\n  onlineProjects: [],\n  offlineProjects: [],\n  activeUsers: [], \n  contacts: [],\n}\n\nexport const projectReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ACTION.CHOOSE_PROJECT:\n      return { ...state, activeProject: action.payload.projectid, \n\t      html: action.payload.html, css: action.payload.css,\n      js: action.payload.js, collaboratorName: action.payload.collaboratorName,\n      title: action.payload.title, collaboratorId: action.payload.collaborator, \n      collaboratorAvatar: action.payload.collaboratorAvatar };\n\n    case ACTION.CLEAR_PROJECT:\n      return { ...state, html: \"\", css: \"\", js: \"\", collaboratorName: \"\",\n      title: \"\", activeProject: \"\", collaboratorId: \"\", collaboratorAvatar: \"0\" };\n\n    case ACTION.CHOOSE_USER:\n      return { ...state, collaboratorId: action.payload };\n\n    case ACTION.SELECT_COLLAB:\n      return { ...state, collaboratorId: action.payload.username, \n      collaboratorName: action.payload.name, collaboratorAvatar: action.payload.avatar };\n    \n    case ACTION.LOAD_INIT_PROJECTS: \n      return { ...state, onlineProjects: action.payload.onlineProjects,\n      offlineProjects: action.payload.offlineProjects };\n\n    case ACTION.UPDATE_PROJECTS:\n      return { ...state, onlineProjects: action.payload.onlineProjects,\n      offlineProjects: action.payload.offlineProjects };\n\n    case ACTION.UPDATE_USERS:\n      return { ...state, contacts: action.payload.contacts,\n\t      activeUsers: action.payload.activeUsers };\n\n    case ACTION.CLEAR_REDUCER:\n      return { ...state, activeProject: '', onlineProjects: [], title: '',\n      offlineProjects: [], activeUsers: [], contacts: [], html: '',\n      css: '', js: '', collaboratorId: '', \n\t      collaboratorName: '', collaboratorAvatar: \"0\" };\n\n    default:\n      return state;\n  }\n};\n\n\n","import { ACTION } from '../actions/types';\n\nconst initialState = {\n  isSignedIn: false,\n  username: '',\n  email: '',\n  name: '',\n  isVisible: true,\n  avatar: \"0\",\n}\n\nexport const userReducer = (state = initialState, action) => {\n  switch (action.type) {\n\t  case ACTION.SIGN_IN:\n      return { ...state, isSignedIn: true, username: action.payload.username, \n\t      email: action.payload.email, name: action.payload.name, avatar: action.payload.avatar, isVisible: action.payload.isVisible};\n    case ACTION.SIGN_OUT:\n      return { ...state, isSignedIn: false, username: '', email: '', \n\t      activeProject: '',  avatar: \"0\" };\n    case ACTION.CHANGE_VISIBILITY:\n      return { ...state, isVisible: action.payload };\n    case ACTION.CHANGE_NAME:\n      return { ...state, name: action.payload };\n      case ACTION.CHANGE_AVATAR:\n        return { ...state, avatar: action.payload };\n    default:\n      return state;\n  }\n}\n","import { projectReducer } from './projectReducer';\nimport { userReducer } from './userReducer';\nimport { combineReducers } from 'redux';\n\nconst rootReducer = combineReducers({\n  projectReducer,\n  userReducer\n});\n\nexport default rootReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport './index.css';\nimport App from './main/webapp/App.js';\nimport rootReducer from './main/webapp/reducers';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}